@if ((!records || records.length === 0 )) {
<ion-row class="ion-justify-content-center">
  <ion-col size="12" size-md="8" size-lg="6">
    <div class="empty-state">
      <ion-icon name="globe"></ion-icon>
      <ion-label>
        <h2>No DNS Records Found</h2>
        <p>Create your first DNS record to get started with dynamic DNS management.</p>
      </ion-label>
      <ion-button expand="block" fill="outline" (click)="addRecord.emit()" class="ion-margin-top">
        <ion-label>
          Add Record
        </ion-label>
      </ion-button>
    </div>
  </ion-col>
</ion-row>
}

@if (records && records.length > 0) {
<ion-row>
  @for (r of records; track trackByRecordId($index, r)) {
  <ion-col size="12" size-md="6" size-lg="4">
    <ion-card class="record-card">
      <div class="record-actions-bar">
        <ion-button size="small" fill="clear" color="medium" (click)="refreshRecord.emit(r)" title="Refresh Record"
          class="action-btn">
          <ion-icon name="refresh-outline" slot="icon-only"></ion-icon>
        </ion-button>
        <ion-button size="small" fill="clear" color="warning" (click)="editRecord.emit(r)" title="Edit Record"
          class="action-btn">
          <ion-icon name="create-outline" slot="icon-only"></ion-icon>
        </ion-button>
        <ion-button size="small" fill="clear" color="danger" (click)="deleteRecord.emit(r)" title="Delete Record"
          class="action-btn">
          <ion-icon name="trash-outline" slot="icon-only"></ion-icon>
        </ion-button>
      </div>

      <ion-card-header>
        <ion-card-title>
          <span>{{ r.name }}.{{ r.domain }}</span>
          <span class="record-type-badge" [style.background]="'var(--ion-color-' + getRecordTypeColor(r.type) + ')'"
                    [style.color]="'var(--ion-color-' + getRecordTypeColor(r.type) + '-contrast)'">
          {{ r.type }}
          </span>
        </ion-card-title>
      </ion-card-header>

      <ion-card-content (click)="showRecordResolution.emit(r)" class="record-content-clickable">
        <div class="record-details">
          <div class="detail-item" [class.record-updated]="isRecordUpdated(r)"
            [class.record-outdated]="!isRecordUpdated(r)">
            <ion-icon name="code-working-outline"></ion-icon>
            <span class="detail-value">{{ r.address?.ip }}</span>
          </div>
          <div class="detail-item">
            <ion-icon name="time-outline"></ion-icon>
            <span class="detail-label">last update</span>
            @if (isUpdated(r)) {
            <span class="detail-value">{{ getLastUpdatedText(r.last_update) }}</span>
            } @else {
            <span class="detail-value">Never</span>
            }
          </div>
          @if (r.ttl) {
          <div class="detail-item">
            <ion-icon name="timer-outline"></ion-icon>
            <span class="detail-label">TTL:</span>
            <span class="detail-value">{{ r.ttl }}s</span>
          </div>
          }
        </div>
      </ion-card-content>
    </ion-card>
  </ion-col>
  }

  <ion-col size="12" size-md="6" size-lg="4" size-xl="3" class="ion-hide-md-down">
    <ion-card class="form-card add-record" (click)="addRecord.emit()" button>
      <div class="add-content">
        <ion-icon name="add-circle-outline"></ion-icon>
        <div class="add-title">Add New Record</div>
        <div class="add-subtitle">Create a new DNS record</div>
      </div>
    </ion-card>
  </ion-col>
</ion-row>
}

<!-- Floating Action Button for Mobile -->
@if (records && records.length > 0) {
<ion-fab class="fab-add ion-hide-md-up" vertical="bottom" horizontal="end">
  <ion-fab-button (click)="addRecord.emit()">
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
</ion-fab>
}
