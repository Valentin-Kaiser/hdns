<ion-row class="ion-justify-content-center">
  <ion-col size="12" size-md="8" size-lg="6">
    <ion-card class="form-card">
      <div class="form-header">
        <h4 class="form-title">
          <ion-icon name="globe-outline"></ion-icon>
          DNS Record IP Addresses
        </h4>
        <ion-button fill="clear" class="close-button" (click)="close()" aria-label="Close">
          <ion-icon name="close-outline"></ion-icon>
        </ion-button>
      </div>

      <div class="form-content">
        @if (loading) {
        <div class="loading-container">
          <ion-spinner color="primary"></ion-spinner>
          <p>Resolving DNS record...</p>
        </div>
        }

        @if (!loading && !record) {
        <div class="record-info">
          <div class="record-details">
            <div class="record-name">
              <ion-icon name="link-outline"></ion-icon>
              <span class="name-text">{{ record.name }}.{{ record.domain }}</span>
            </div>
          </div>
        </div>
        }

        @if (!loading && resolutions.length === 0) {
        <div class="empty-state">
          <ion-icon name="alert-circle-outline"></ion-icon>
          <h3>No IP Addresses Found</h3>
          <p>This DNS record could not be resolved to any IP addresses.</p>
        </div>
        }

        @if (!loading && resolutions.length > 0) {
        <div class="resolved-ips-list">
          @for (res of resolutions; track res.server) {
          <div class="ip-item">
            <div class="ip-details">
              @for (addr of res.addresses; track addr) {
              <div class="ip-address">
                <ion-icon name="globe-outline"></ion-icon>
                <span class="ip-text">{{ addr }}</span>
              </div>
              }

              @if (res.error) {
                <div class="ip-error">
                  <span class="error-text">{{ res.error }}</span>
                </div>
              }
              
              <div class="ip-metadata">
                @if (res.server) {
                  <span class="provider">
                    <ion-icon name="server-outline"></ion-icon>
                    {{ res.server }}
                  </span>
                }
                @if (res.response_time) {
                  <span class="response-time">
                    <ion-icon name="time-outline"></ion-icon>
                    {{ res.response_time }}ms
                  </span>
                }
              </div>
            </div>
          </div>
          }
        </div>
        }
      </div>
    </ion-card>
  </ion-col>
</ion-row>
