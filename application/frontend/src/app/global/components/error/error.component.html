<div class="error-modal-content">
  <ion-header class="error-header">
    <ion-toolbar color="danger">
      <ion-title>
        <ion-icon name="alert-circle-outline" class="header-icon"></ion-icon>
        Error Details
      </ion-title>
      <ion-buttons slot="end">
        <ion-button fill="clear" (click)="dismiss()">
          <ion-icon name="close-outline" slot="icon-only"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content class="error-content">
    <ion-grid>
      <ion-row>
        <ion-col>
          <div class="error-message">
            <ion-icon name="warning-outline" class="message-icon"></ion-icon>
            <h2>{{ error.message }}</h2>
          </div>
        </ion-col>
      </ion-row>
      
      @if (error.trace && error.trace.length > 0) {
        <ion-row>
          <ion-col>
            <div class="error-section">
              <h3>Stack Trace:</h3>
              <div class="trace-content">
                @for (trace of error.trace; track $index) {
                  <code class="trace-line">{{ trace }}</code>
                }
              </div>
            </div>
          </ion-col>
        </ion-row>
      }
      
      @if (error.details) {
        <ion-row>
          <ion-col>
            <div class="error-section">
              <h3>Additional Details:</h3>
              <div class="details-content">
                <h4>{{ error.details.message }}</h4>
                @if (error.details.trace && error.details.trace.length > 0) {
                  <div class="trace-content">
                    @for (trace of error.details.trace; track $index) {
                      <code class="trace-line">{{ trace }}</code>
                    }
                  </div>
                }
              </div>
            </div>
          </ion-col>
        </ion-row>
      }
    </ion-grid>
  </ion-content>

  <ion-footer class="error-footer">
    <ion-toolbar>
      <ion-buttons slot="end">
        <ion-button 
          color="medium" 
          fill="clear" 
          (click)="copy()">
          <ion-icon name="copy-outline" slot="start"></ion-icon>
          Copy Error
        </ion-button>
        <ion-button 
          color="primary" 
          (click)="dismiss()">
          OK
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-footer>
</div>